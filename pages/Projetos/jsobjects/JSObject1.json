{
  "unpublishedCollection": {
    "name": "JSObject1",
    "pageId": "Projetos",
    "pluginId": "js-plugin",
    "pluginType": "JS",
    "actions": [],
    "archivedActions": [],
    "body": "export default {\n\tparseJSON : (extrato) => {\n\t\t\t\tvar data = appsmith.store.rubricas2;\n\t\t\t\tvar rubrica_desc;\n\t\t\t\n\t\t\t\tdata.some((e, idx) => {\n\t\t\t\t\t\tif(e.label.indexOf(extrato.id_rubrica) != -1) {\n\t\t\t\t\t\t\t\trubrica_desc = data[idx].label;\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\n\t\t\t\tvar {cpf, cnpj, nome, id : id_fav} = appsmith.store.AllFavorecidos.find(e => e.id == extrato.id_favorecido);\n\t\t\n\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\"id\"\t\t\t\t\t: extrato.id,\n\t\t\t\t\t\t\t\t\"tipo_mov\" \t\t: extrato.id_movimentacao,\n\t\t\t\t\t\t\t\t\"id_projeto\" \t: extrato.id_projeto,\n\t\t\t\t\t\t\t\t\"Rubrica\" \t\t: rubrica_desc,\n\t\t\t\t\t\t\t\t\"Data\"  \t\t\t: extrato.data,\n\t\t\t\t\t\t\t\t\"Valor\" \t\t\t: extrato.valor,\n\t\t\t\t\t\t\t\t\"Favorecido\"\t: id_fav + ' - ' + nome,\n\t\t\t\t\t      \"Documento\"   : cpf.length > 0 ? cpf : cnpj,\n\t\t\t\t\t\t\t\t\"Tag\" \t\t\t\t: extrato.id_tag,\n\t\t\t\t\t\t\t\t\"obs\"\t\t\t\t\t: extrato.observacao\n\t\t\t\t}\n\t},\n\tcarregar_extrato: async () => {\n\t\t\tawait storeValue(\"id_projeto_atual\", Table1.triggeredRow.id);\n\t\t\n\t\t\tawait ObterExtratosAPI.run().then( async (res) => {\n\t\t\t\t\tif (res == undefined) {\n\t\t\t\t\t\t\tawait storeValue(\"extrato\", [])\n\t\t\t\t\t} else {\t\t\t\n\t\t\t\t\t\t\tlet toModel = [];\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tres.forEach((e) => {\n\t\t\t\t\t\t\t\t\ttoModel.push(JSObject1.parseJSON(e));\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t\t\tawait storeValue(\"extrato\", toModel);\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\tnavigateTo('Extrato');\n\t\t\t} ).catch( async (res) => {\n\t\t\t\t\tawait showAlert(res.toString());\n\t\t\t\t\tawait showAlert(\"Erro ao carregar extratos\");\n\t\t\t})\n\t\t\n\t\t\treturn appsmith.store.extrato;\n\t}\n}",
    "variables": [],
    "userPermissions": []
  },
  "id": "Projetos_JSObject1",
  "deleted": false,
  "gitSyncId": "637d55b1cbb10813d213d9ed_63bd6dc860108a125629867b"
}